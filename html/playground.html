<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<title>CodeHighlight.js / Play Ground</title>

	<!-- PlayGroundではjQueryをロードしていますが、codehighlight.jsには必須ではありません。 -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<link rel="stylesheet" href="./dist/codehighlight.css">
	<style>
		html{
			height:100%;
			margin:0;
			padding:0;
			tab-size:4;
		}
		body {
			margin:0;
			padding:10px 30px;
			height:calc(100% - 20px);
		}
		.right {
			text-align: right;
		}

		textarea{
			width:100%;
			height:30%;
			resize: none;
			margin:5px;
		}
	</style>
</head>

<body>
	<select class='code-type'>
		<option value='javascript'>Javasript</option>
	</select>
	<button>highlight!</button>
<textarea>
	/*
		this is sample code.
	*/
	function(){
		var msg = "HELLO";
		if(true){
			console.log(`${msg}, codehighlight.js!`);
		}
	};
	// -> HELLO, codehighlight.js!
</textarea>

		<script src="./js/codehighlight.min.js"></script>

		<script>
			"use strict";
			$(function() {

				$('button').on('click', function() {
					// すでに表示しているhighlightコードは削除
					$('.chl').remove();

					var codetype = $('select.code-type').val();

					var script = $('<script>')
						.attr('type', `code/${codetype}`)
						.attr('title', `sample code`);

					$('body').append(script);

					script.html($('textarea').val());

					new CHL.CodeHighLight().execute();
				});

				$('button').click();
			});
		</script>
</body>

</html>