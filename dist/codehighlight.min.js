"use strict";var CodeHighlight;!function(e){var t=function(){function e(e,t){this.code=e,this.tag=void 0,this.replaced=!1,/C_H_L/.test(e)&&(this.code=e.replace(/C_H_L/g,""),this.tag=t["class"],t.fnc&&(this.replaced=!0))}return e.prototype.toString=function(){var e=this.code;if(this.replaced)return e;if(e=e.replace(/['"<>&`]/g,function(e){return"&#"+e.charCodeAt(0)+";"}),!this.tag)return"<span>"+e.replace(/[\r\n]/g,"<br></span></div><div><span>");var t='<span class="'+this.tag+'">',r="</span>";return t+e.replace(/[\r\n]/g,r+"</div><div>"+t)+r},e.prototype.markCodeAndStore=function(t,r){if(this.tag)return r.push(this);var n;if(t.fnc)n=this.code.replace(t.regex,t.fnc);else{var a=(t.str||"`$1`").replace(/`/g,e.M);n=this.code.replace(t.regex,a)}var i=n.split(/(C_H_L[\w\W]+?C_H_L)/);i.forEach(function(n){r.push(new e(n,t))})},e.flatten=function(t){var r=[],n="";return t.forEach(function(t){t.tag?(n&&(r.push(new e(n)),n=""),r.push(t)):n+=t.code}),n&&r.push(new e(n)),r},e.M="C_H_L",e}();e.Code=t}(CodeHighlight||(CodeHighlight={}));var CodeHighlight;!function(e){function t(t){e.TemplateManager.loadTemplate(t)}function r(t){e.TemplateManager.addTemplate(t)}function n(t){t?e.highlight(t):(e.highlight(document.getElementsByTagName("script")),e.highlight(document.getElementsByTagName("code")))}function a(t){for(var r=t.length;r--;){var n=t[r],a=n.getAttribute("type");if(/^code\/.+$/.test(a)){var i=a.split("/")[1],s=e.TemplateManager.getTemplate(i);if(s){var l='<div class="title">'+(n.title?n.title+" / ":"")+i+"</div>";"html"===i&&console.log("inner:"+n.innerHTML);var c=n.innerHTML.replace(/^[\s]*\n|[\s\r\n]*$/g,"").split(/[\r\n]/g),o=1/0;c.forEach(function(e,t){c[t]=e=e.replace(/^[ \t]+/,function(e){return e.replace(/\t/g,"    ")});var r=/^(\s*)/.exec(e);r[1]&&(o=Math.min(r[1].length,o))});var g=new RegExp("^\\s{"+o+"}|[s]*$","g");c.forEach(function(e,t){c[t]=e.replace(g,"")});var d=[new e.Code(c.join("\n"))];s.define.forEach(function(t){var r=[];d.forEach(function(e){e.markCodeAndStore(t,r)}),d=e.Code.flatten(r)});var p="",h=0;c.forEach(function(){p+="<div>"+ ++h+"</div>"});var u=document.createElement("div");u.setAttribute("class","chl"),u.setAttribute("title",n.title),u.innerHTML=l+'<code><div class="no">'+p+'</div><div class="code"><div>'+d.join("")+"</div></div></code>",n.parentElement.insertBefore(u,n),n.remove()}}}}e.loadTemplate=t,e.addTemplate=r,e.execute=n,e.highlight=a}(CodeHighlight||(CodeHighlight={}));var CodeHighlight;!function(e){var t=function(){function t(){}return t.loadTemplate=function(t){var r=new XMLHttpRequest;r.onreadystatechange=function(t){if(4===r.readyState&&200===r.status){var n=document.createElement("script");n.innerHTML=r.responseText,document.body.appendChild(n),e.execute()}},r.open("GET",t,!0),r.send(null)},t.addTemplate=function(e){var r=!1;t.templates.forEach(function(n,a){n.lang===e.lang&&(t.templates.splice(a,1,e),r=!0)}),r||t.templates.push(e)},t.getTemplate=function(e){if(!e)return null;e=e.toLowerCase();for(var r=t.templates.length;r--;)if(t.templates[r].lang.test(e))return t.templates[r]},t.templates=[],t}();e.TemplateManager=t}(CodeHighlight||(CodeHighlight={})),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:stylesheet|css[\d]*|less)$/i,define:[{"class":"comment",regex:/(\/\*[\w\W]+?\*\/)/g},{"class":"keyword",regex:/(^|[;{\r\n])([\s]*)(.*?):/g,str:"$1$2`$3`:"},{"class":"literal",regex:/#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3}|rgb[a]?\([^\)]*?\)/g,fnc:function(e){return"C_H_L"+e+'<span class="color-block" style="background:'+e+';"></span>C_H_L'}},{"class":"literal",regex:/:(.*?)([;\r\n])/g,str:":`$1`$2"}]}),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:html)$/i,define:[{"class":"comment",regex:/(<\!\-\-[\w\W]*?\-\->)/g},{"class":"keyword",regex:/<(\s*\w+)/g,str:"<`$1`"},{"class":"keyword",regex:/(<\/)(\w+)(>)/g,str:"$1`$2`$3"}]}),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:js|javascript|ecma(?:script)?\d*|es\d*|ts|typescript)$/i,define:[{"class":"comment",regex:/(\/\*[\w\W]+?\*\/)/g},{"class":"comment",regex:/(\/\/.*?)([\r\n]+|$)/g,str:"`$1`$2"},{"class":"literal",regex:/(['"`])(.*?[^\\]\1)/g,str:"`$1$2`"},{"class":"premitive",regex:/([\W])([+\-]?[\d\.]+)/g,str:"$1`$2`"},{"class":"regexp",regex:/[\b]*(\/.*?[^\\]\/[gim]*)\b/g},{"class":"premitive",regex:/\b(true|false|NaN|null|undefined|void)\b/g},{"class":"keyword",regex:/\b(break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|this|throw|try|typeof|var|while|with|class|enum|export|extends|import|super|implements|interface|let|package|private|protected|public|static|yield)\b/g},{"class":"builtin",regex:/\b(escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|Array|Boolean|Date|Error|EvalError|Function|JSON|Math|Number|Object|RegExp|ReferenceError|RangeError|String|SyntaxError|TypeError|URIError|console|debugger)\b/g}]});